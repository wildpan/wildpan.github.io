{"meta":{"title":"wildpan'blog","subtitle":null,"description":"一直以诚待人","author":"目小温","url":"http://yoursite.com"},"pages":[{"title":"categories","date":"2018-03-18T01:54:46.000Z","updated":"2018-03-18T03:13:26.869Z","comments":true,"path":"categories/index.html","permalink":"http://yoursite.com/categories/index.html","excerpt":"","text":""},{"title":"tags","date":"2018-03-18T01:54:20.000Z","updated":"2018-03-22T11:16:24.793Z","comments":true,"path":"tags/index.html","permalink":"http://yoursite.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"用devstack安装openstack","slug":"Course Z6110X0002 Linux Programming Homework 2温和磐 6103115108","date":"2018-04-08T12:16:41.999Z","updated":"2018-04-08T12:57:56.513Z","comments":true,"path":"2018/04/08/Course Z6110X0002 Linux Programming Homework 2温和磐 6103115108/","link":"","permalink":"http://yoursite.com/2018/04/08/Course Z6110X0002 Linux Programming Homework 2温和磐 6103115108/","excerpt":"DevStack的安装Devstack目前是支持Ubuntu16.04和CentOS7，而且Devstack官方建议使用Ubuntu16.04，所以我们使用Ubuntu 16.04进行安装。默认无论是Devstack和OpenStack，都是采用Master的代码进行安装，这样经常会出现，今天安装成功，明天失败，代码时刻在变化。所以我们不仅仅要指定OpenStack的版本，还需要指定Devstack的版本，才能提供安装成功的概率。 环境准备在配置内存时最好应该给linux的运行内存6G以上，不然倒后面安装的时候会变得很卡，我使用的操作系统为Ubuntu 14.04的版本，默认的软件包源是国外的，速度相对来说比较慢，所以我们修改文件/etc/apt/sources.list，使用如下命令更改：123$sed -i &apos;s/us.archive.ubuntu.com/cn.archive.ubuntu.com/g&apos; /etc/apt/sources.list$sed -i &apos;s/security.ubuntu.com/cn.archive.ubuntu.com/g&apos; /etc/apt/sources.list 更新一下源。","text":"DevStack的安装Devstack目前是支持Ubuntu16.04和CentOS7，而且Devstack官方建议使用Ubuntu16.04，所以我们使用Ubuntu 16.04进行安装。默认无论是Devstack和OpenStack，都是采用Master的代码进行安装，这样经常会出现，今天安装成功，明天失败，代码时刻在变化。所以我们不仅仅要指定OpenStack的版本，还需要指定Devstack的版本，才能提供安装成功的概率。 环境准备在配置内存时最好应该给linux的运行内存6G以上，不然倒后面安装的时候会变得很卡，我使用的操作系统为Ubuntu 14.04的版本，默认的软件包源是国外的，速度相对来说比较慢，所以我们修改文件/etc/apt/sources.list，使用如下命令更改：123$sed -i &apos;s/us.archive.ubuntu.com/cn.archive.ubuntu.com/g&apos; /etc/apt/sources.list$sed -i &apos;s/security.ubuntu.com/cn.archive.ubuntu.com/g&apos; /etc/apt/sources.list 更新一下源。1$apt-get update 下载devstack安装devstack痛苦的其中一个原因，是OpenStack代码，都需要从github下载，由于网络的原因，经常导致各种错误，简直让人崩溃，各种错误，目前国内已经提供了完整的OpenStack的github的mirror：http//:git.trystack.cn，这样Devstack成功概率会大大提高。另外devstack还会下载image，下载的过程也是非常缓慢。trystack也提供大家常用的image下载：http://images.trystack.cn目前官方github上面保留着三个稳定的版本，我们这边安装Ocata版12$apt-get install git$git clone http://git.trystack.cn/openstack-dev/devstack.git -b stable/ocata 创建stack用户目前Devstack脚本已经不支持直接使用root身份运行，你需要创建stack用户运行。12$cd devstack/tools/$./create-stack-user.sh 修改devstack目录权限,让stack用户可以运行。123$cd ../..$mv devstack /opt/stack $chown -R stack:stack /opt/stack/devstack 配置pip源OpenStack很多组件需要从pip源下载，默认是国外的源，我们需要设置为国内的源，以便可以快速的进行配置，在root和stack的加目录下面都配置一下。首先分别在家目录下面都创建.pip的目录，然后在目录下面创建文件pip.conf，内容如下：12$mkdir .pip$cat &gt;&gt; .pip/pip.conf &lt;&lt;EOF 然后再输入1234$[global]$trusted-host = pypi.douban.com$index-url = http://pypi.douban.com/simple$EOF 配置文件123$su - stack$cd devstack$cp samples/local.conf . 对文件local.conf进行简单修改，如下内容：123456789$[[local|localrc]]$ADMIN_PASSWORD=这里改成你想要的密码$DATABASE_PASSWORD=$ADMIN_PASSWORD$RABBIT_PASSWORD=$ADMIN_PASSWORD$SERVICE_PASSWORD=$ADMIN_PASSWORD$# use TryStack git mirror$GIT_BASE=http://git.trystack.cn$NOVNC_REPO=http://git.trystack.cn/kanaka/noVNC.git$SPICE_REPO=http://git.trystack.cn/git/spice/spice-html5.git 安装中途可能会出现多次错误，大部分都是因为网络的原因，重复运行命令即可。1$./stack.sh 安装成功 安装中出现的错误错误情况有如下几种：123$df: &apos;/run/user/112/gvfs&apos;: Permission denied$[ERROR] /opt/stack/devstack/functions-common:1209 Failure creating $private I$Invalid input for operation: Gateway is not valid on subnet 最后通过一篇日志得到启发，原来需要注意local.conf的ip信息需要和/opt/stack/devstack/lib/neutron-legacy里面的信息不能冲突需到这个问题：generate-subunit: command not found 解决方案：123$sudo apt-get install python-pip$sudo pip install --upgrade pip$sudo pip install -U os-testr","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"ubuntu","slug":"ubuntu","permalink":"http://yoursite.com/tags/ubuntu/"},{"name":"openstack","slug":"openstack","permalink":"http://yoursite.com/tags/openstack/"},{"name":"devstack","slug":"devstack","permalink":"http://yoursite.com/tags/devstack/"}]},{"title":"linux系统的安装与崩溃","slug":"Course Z6110X0002 Linux Programming Homework 1温和磐 6103115108","date":"2018-03-24T12:40:30.127Z","updated":"2018-03-24T15:48:16.131Z","comments":true,"path":"2018/03/24/Course Z6110X0002 Linux Programming Homework 1温和磐 6103115108/","link":"","permalink":"http://yoursite.com/2018/03/24/Course Z6110X0002 Linux Programming Homework 1温和磐 6103115108/","excerpt":"安装Linux 由于是新手所以我是在ubuntu上安装linux系统,因为在虚拟机上上安装感觉操作更简单一点，而且后面还要让这个系统崩溃，所以这样才更方便一点。 下面就直接开始进行安装的方法吧。","text":"安装Linux 由于是新手所以我是在ubuntu上安装linux系统,因为在虚拟机上上安装感觉操作更简单一点，而且后面还要让这个系统崩溃，所以这样才更方便一点。 下面就直接开始进行安装的方法吧。 崩溃先运行几个程序相信你肯定在电影里面看过下面的这张图片的，是不是很高大上？下面的这个可以看到你在linux系统里的各种信息1$ screenfetch lolcat 崩溃的命令行第一种崩溃的方法首先输入下面的命令行，进入boot文件夹1$ cd boot 然后输入下面的命令行，就可以把所有的文件全部删除，你在输入ls -al就可以看的到文件全部被删除光了1$ rm -rf * 然后再输入reboot命令或者关机再开机之后，找不到文件所以就再也启动不了linux系统1$ reboot 第二种崩溃的方法 把全部硬盘清零1$ sudo dd if=/dev/zero of=/dev/sda 输入完之后就直接崩溃，系统完全没用了关机后再开机就是自动重装系统了","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"ubuntu","slug":"ubuntu","permalink":"http://yoursite.com/tags/ubuntu/"}]},{"title":"温小目","slug":"work","date":"2018-03-20T01:54:46.000Z","updated":"2018-03-22T11:11:16.614Z","comments":true,"path":"2018/03/20/work/","link":"","permalink":"http://yoursite.com/2018/03/20/work/","excerpt":"","text":"","categories":[{"name":"photo","slug":"photo","permalink":"http://yoursite.com/categories/photo/"}],"tags":[{"name":"目小温","slug":"目小温","permalink":"http://yoursite.com/tags/目小温/"},{"name":"雁王","slug":"雁王","permalink":"http://yoursite.com/tags/雁王/"}]}]}